<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Xinhao&#39;s Blog</title>
    <link>https://gaaaavin.github.io/The-Best-Practices/</link>
      <atom:link href="https://gaaaavin.github.io/The-Best-Practices/index.xml" rel="self" type="application/rss+xml" />
    <description>Xinhao&#39;s Blog</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Fri, 21 Jul 2023 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://gaaaavin.github.io/The-Best-Practices/media/icon_hu2a508e6ae6e9a8da6b9815a10a466680_273297_512x512_fill_lanczos_center_3.png</url>
      <title>Xinhao&#39;s Blog</title>
      <link>https://gaaaavin.github.io/The-Best-Practices/</link>
    </image>
    
    <item>
      <title>HPC Data Management</title>
      <link>https://gaaaavin.github.io/The-Best-Practices/hpc/hpc-data/</link>
      <pubDate>Sat, 05 Aug 2023 00:00:00 +0000</pubDate>
      <guid>https://gaaaavin.github.io/The-Best-Practices/hpc/hpc-data/</guid>
      <description>&lt;p&gt;HPC-part-2&lt;/p&gt;
&lt;h1 id=&#34;overview&#34;&gt;Overview&lt;/h1&gt;
&lt;p&gt;The post introduces the data management system on HPC. The &lt;strong&gt;main purpose&lt;/strong&gt; of this is to provide a foundation for future posts about setting up environments, managing data, and running jobs on HPC.&lt;/p&gt;
&lt;p&gt;There are four different types of file systems on HPC:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Home directory: &lt;code&gt;/home/&amp;lt;NetID&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Scratch directory: &lt;code&gt;/scratch/&amp;lt;NetID&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Archive directory: &lt;code&gt;/archive/&amp;lt;NetID&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Vast directory: &lt;code&gt;/vast/&amp;lt;NetID&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Each of them has different purposes and limitations. After you login to HPC, you can use the &lt;code&gt;myquota&lt;/code&gt; command to check your quota and usage on each file system. A sample output looks like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ myquota
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Hostname: log-1 at Sun Mar 21 21:59:08 EDT 2021
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem   Environment   Backed up?   Allocation       Current Usage
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Space        Variable      /Flushed?    Space / Files    Space(%) / Files(%)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/home        $HOME         Yes/No       50.0GB/30.0K       8.96GB(17.91%)/33000(110.00%)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/scratch     $SCRATCH      No/Yes        5.0TB/1.0M        811.09GB(15.84%)/2437(0.24%)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/archive     $ARCHIVE      Yes/No        2.0TB/20.0K       0.00GB(0.00%)/1(0.00%)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/vast        $VAST         No/Yes        2.0TB/5.0M        0.00GB(0.00%)/1(0.00%)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: As you can see, there are two types of limitations for each file system: &lt;em&gt;space&lt;/em&gt; and &lt;em&gt;files&lt;/em&gt; (also known as &lt;em&gt;inodes&lt;/em&gt;). The former is the total amount of space you can use on the file system and the latter is the total number of files you can store on the file system.&lt;/p&gt;
&lt;p&gt;The existence of file limitation is part of the reason why we need all these best practices in the first place.&lt;/p&gt;
&lt;p&gt;In the following sections, we will go through each file system in detail.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-home-directory&#34;&gt;üè† Home directory&lt;/h1&gt;
&lt;p&gt;The home directory is the default directory when you log in to HPC. As shown in the output above, the 50GB/30k limitation is quite small. Therefore, you are not recommended to store anything here.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-scratch-directory&#34;&gt;üìù Scratch directory&lt;/h1&gt;
&lt;p&gt;The scratch directory is the place where you will most play with. It is a temporary storage space for your data and jobs. The 5TB/1M limitation is enough for you to store &lt;strong&gt;almost&lt;/strong&gt; everythin you need.&lt;/p&gt;
&lt;p&gt;Note that this directory is &lt;strong&gt;flushed&lt;/strong&gt;, meaning any inactive files will be deleted after 60 days. When some of your files are about to be flushed, you will receive an email notification.&lt;/p&gt;
&lt;p&gt;However, the 1M file limitation is still relatively small, especially for modern datasets that usually contain large number of small files. We will cover details about this in the section for the &lt;code&gt;/vast&lt;/code&gt; directory.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-archive-directory&#34;&gt;üì¶ Archive directory&lt;/h1&gt;
&lt;p&gt;Like the home directoy, the archive directory is also a permanent storage space. However, it is not accessible from the computing nodes. Therefore, it&amp;rsquo;s recommended to use this directory only for &lt;strong&gt;archive&lt;/strong&gt; purpose.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-vast-directory&#34;&gt;üìÅ Vast directory&lt;/h1&gt;
&lt;p&gt;The vast directory is an &lt;a href=&#34;https://vastdata.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;all-flash&lt;/a&gt; file system that is optimized for computational workloads with high I/O rates.&lt;/p&gt;
&lt;p&gt;As mentioned above, as the vast directory has much larger inode limitation, it is recommended to store datasets that contain large number of small files here.&lt;/p&gt;
&lt;p&gt;We will discuss more about the best practices for large number of small files in future posts.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;related-posts&#34;&gt;Related posts&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Previous: &lt;a href=&#34;https://gaaaavin.github.io/The-Best-Practices/hpc/access_to_hpc/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;HPC Part 1: Access to HPC&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>Accessing HPC</title>
      <link>https://gaaaavin.github.io/The-Best-Practices/hpc/access_to_hpc/</link>
      <pubDate>Fri, 28 Jul 2023 00:00:00 +0000</pubDate>
      <guid>https://gaaaavin.github.io/The-Best-Practices/hpc/access_to_hpc/</guid>
      <description>&lt;p&gt;HPC-part-1&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NYU High Performance Computing (NYU HPC) provides access to state of the art supercomputer hardware and cloud services to eligible faculty and students across all of NYU.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Most of the blog is adapted from &lt;a href=&#34;https://sites.google.com/nyu.edu/nyu-hpc/accessing-hpc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this page&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-getting-started&#34;&gt;üé¨ Getting started&lt;/h1&gt;
&lt;p&gt;Before accessing the HPC cluster, you need to have an account. If you don&amp;rsquo;t have one yet, please obtain one by following &lt;strong&gt;step 1&lt;/strong&gt; and &lt;strong&gt;step 2&lt;/strong&gt; in &lt;a href=&#34;https://www.nyu.edu/life/information-technology/research-computing-services/high-performance-computing/high-performance-computing-nyu-it/hpc-accounts-and-eligibility.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this page&lt;/a&gt;.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-network-configurations&#34;&gt;‚öôÔ∏è Network configurations&lt;/h1&gt;
&lt;p&gt;Now that you should have an HPC account, we need to configure your network settings to access the HPC cluster.&lt;/p&gt;
&lt;p&gt;If you are on the NYU network, you can access the HPC cluster directly without any extra configurations.&lt;/p&gt;
&lt;p&gt;Otherwise, you have two options to access the HPC cluster:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;NYU VPN&lt;/strong&gt;: You can use the &lt;a href=&#34;https://www.nyu.edu/life/information-technology/infrastructure/network-services/vpn.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;NYU VPN&lt;/a&gt; to connect to the NYU network. This is often default option for most users.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HPC gateway&lt;/strong&gt;: If in some cases you cannot use the NYU VPN, you can use the HPC gateway &lt;code&gt;gw.hpc.nyu.edu&lt;/code&gt; (example below) to connect. Note that it is only a portal-like server, and you cannot run any jobs on it.&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;h1 id=&#34;-command-line&#34;&gt;Ôºû Command line&lt;/h1&gt;
&lt;h3 id=&#34;1-gateway&#34;&gt;1. Gateway&lt;/h3&gt;
&lt;p&gt;(Ignore this step if you are using NYU VPN or on the NYU network)&lt;/p&gt;
&lt;p&gt;Connect to the HPC gateway using SSH:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh &amp;lt;NetID&amp;gt;@gw.hpc.nyu.edu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;2-ssh&#34;&gt;2. SSH&lt;/h3&gt;
&lt;p&gt;Connect to the HPC cluster using SSH:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh &amp;lt;NetID&amp;gt;@greene.hpc.nyu.edu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;3-save-password&#34;&gt;3. Save password&lt;/h3&gt;
&lt;p&gt;(Optional)
Once you logged in to HPC, you can set up an SSH key to avoid typing your password every time you log in.&lt;/p&gt;
&lt;p&gt;‚ö†Ô∏è &lt;strong&gt;Only do this on your trusted computer&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;First, generate a SSH key pair on your local machine (disconnecting from HPC):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen -t rsa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then, copy the public key to the HPC cluster:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id &amp;lt;NetID&amp;gt;@greene.hpc.nyu.edu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now you can log in to HPC without typing your password.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;-editor&#34;&gt;üìù Editor&lt;/h1&gt;
&lt;p&gt;This section is optional but highly recommended. You can use any editor you like to edit scripts on HPC, here I recommend using &lt;strong&gt;VS Code&lt;/strong&gt;.&lt;/p&gt;
&lt;h3 id=&#34;1-install&#34;&gt;1. Install&lt;/h3&gt;
&lt;p&gt;Download and install VS Code from &lt;a href=&#34;https://code.visualstudio.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&#34;2-install-remote---ssh-extension&#34;&gt;2. Install Remote - SSH extension&lt;/h3&gt;
&lt;p&gt;After open VS Code, search for &lt;code&gt;SSH&lt;/code&gt; in the extension market and install &lt;code&gt;Remote - SSH&lt;/code&gt;.
















&lt;figure  id=&#34;figure-remote---ssh-extension&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img alt=&#34;ssh&#34; srcset=&#34;
               /The-Best-Practices/hpc/access_to_hpc/ssh_hu7dde6020f4f295e840f5b2b254d5f83a_85934_946abdcbced6f62e08bc3aab36f80a8d.webp 400w,
               /The-Best-Practices/hpc/access_to_hpc/ssh_hu7dde6020f4f295e840f5b2b254d5f83a_85934_ec269ec80f5c79271ff4ea28e56d0487.webp 760w,
               /The-Best-Practices/hpc/access_to_hpc/ssh_hu7dde6020f4f295e840f5b2b254d5f83a_85934_1200x1200_fit_q75_h2_lanczos_3.webp 1200w&#34;
               src=&#34;https://gaaaavin.github.io/The-Best-Practices/The-Best-Practices/hpc/access_to_hpc/ssh_hu7dde6020f4f295e840f5b2b254d5f83a_85934_946abdcbced6f62e08bc3aab36f80a8d.webp&#34;
               width=&#34;760&#34;
               height=&#34;155&#34;
               loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Remote - SSH extension
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h3 id=&#34;3-connect-to-hpc&#34;&gt;3. Connect to HPC&lt;/h3&gt;
&lt;p&gt;Click the button in the bottom left corner of VS Code and select &lt;code&gt;Connect to Host...&lt;/code&gt;. Then, follow the instructions to connect to HPC.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;Now you should be able to access the HPC cluster and edit scripts on it.&lt;/p&gt;
&lt;br&gt;
&lt;h1 id=&#34;related-posts&#34;&gt;Related posts&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Next: &lt;a href=&#34;https://gaaaavin.github.io/The-Best-Practices/hpc/hpc-data/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;HPC Part 2: Data management&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    
    <item>
      <title>My Motivation for This Blog</title>
      <link>https://gaaaavin.github.io/The-Best-Practices/general/motivation/</link>
      <pubDate>Sun, 23 Jul 2023 00:00:00 +0000</pubDate>
      <guid>https://gaaaavin.github.io/The-Best-Practices/general/motivation/</guid>
      <description>&lt;p&gt;Again, this is NOT a blog about tutorials.&lt;/p&gt;
&lt;h1 id=&#34;-why&#34;&gt;‚ùì Why&lt;/h1&gt;
&lt;p&gt;As a researcher who has been involved in various projects and experiments, I have come across numerous instances of incorrect practices being used with common research tools. This incorrect usage has led to flawed results and wasted time.&lt;/p&gt;
&lt;p&gt;I must admit that I too have made some mistakes along the way. However, through my journey, I have learned valuable lessons that have greatly improved my understanding of these tools and their proper usage.&lt;/p&gt;
&lt;p&gt;I am eager to share my experiences, insights, and best practices, as if I hoped that there were someone did the same for me when I was a beginner.&lt;/p&gt;
&lt;h1 id=&#34;-the-importance&#34;&gt;‚ö†Ô∏è The Importance&lt;/h1&gt;
&lt;p&gt;I don&amp;rsquo;t think I need to emphasize the importance of best practices in research.&lt;/p&gt;
&lt;p&gt;Moreover, inappropriate practices can affect other users becuase they often lead to abuse of shared resources. In the end, it makes the workflow inefficient for everyone.&lt;/p&gt;
&lt;p&gt;As researchers, we strive to make meaningful contributions to our domains. Employing the right practices with research tools plays a pivotal role in achieving that goal.&lt;/p&gt;
&lt;h1 id=&#34;-bridging-the-gap&#34;&gt;üèóÔ∏è Bridging the Gap&lt;/h1&gt;
&lt;p&gt;As a newcomer to the world of research tools, I often found it challenging to locate comprehensive, easy-to-understand resources. Existing documentation can be dense, technical, and difficult to grasp, especially for beginners.&lt;/p&gt;
&lt;p&gt;My aim in running this blog is to bridge that knowledge gap and provide fellow researchers, particularly newcomers, with practical insights and tips to effectively utilize these tools. I want to make the learning curve less steep for others than it was for me.&lt;/p&gt;
&lt;h1 id=&#34;-like-or-contribute&#34;&gt;üåü Like or contribute&lt;/h1&gt;
&lt;p&gt;If you find this blog useful, please consider giving it a &lt;a href=&#34;https://github.com/Gaaaavin/The-Best-Practices&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;star&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;p&gt;If you have any questions or suggestions, please feel free to open an &lt;a href=&#34;https://github.com/Gaaaavin/The-Best-Practices/issues&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;issue&lt;/a&gt; or &lt;a href=&#34;https://github.com/Gaaaavin/The-Best-Practices/issues&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pull request&lt;/a&gt; on GitHub.&lt;/p&gt;</description>
    </item>
    
    <item>
      <title></title>
      <link>https://gaaaavin.github.io/The-Best-Practices/admin/config.yml</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://gaaaavin.github.io/The-Best-Practices/admin/config.yml</guid>
      <description></description>
    </item>
    
  </channel>
</rss>
